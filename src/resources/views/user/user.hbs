<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <title>ScheduleX</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/css/user.css" />
  <link rel="stylesheet" href="/css/modal.css" />
</head>

<body>
<!-- The Modal -->
    <div id="myModal" class="modal">
      <!-- Modal content -->
      <div class="modal-content">
        <span class="close">&times;</span>
          {{#each tables}}
          {{#if column1}} 
        <div class="list-item" >
          <input class="titlebox2" type="text" name="title" placeholder="Title" value="{{this.title}}" readonly/>
          <textarea class="inp" type="text" name="description" placeholder="Descriptions"  readonly>{{this.description}}</textarea>
          <div class="date"><strong>Deadline:</strong> {{this.deadline}}</div>
        </div>
        {{/if}}
        {{/each}}
      </div>
    </div>

<!-- The Alert -->
    <div id="alert1" class="modal">
      <!-- Modal content -->
      <div class="modal-content">
        <span class="close1">&times;</span>
        <div class="alert-del">
          <h1>Are you sure want to delete this table ?</h1>
          {{#each tables}}
          {{#if column1}}
          <form>
          <input class="del-but" type="submit" value="Delete" form="{{this._id}}" />
          </form>
          {{/if}}
          {{/each}}
        </div>

      </div>
    </div>

<!-- The Alert -->
    <div id="alert2" class="modal">
      <!-- Modal content -->
      <div class="modal-content">
        <span class="close2">&times;</span>
        <div class="alert-del">       
          <h1>Are you sure want to delete this table ?</h1>
          {{#each tables}}
          {{#if column2}}
          <form>
          <input class="del-but" type="submit" value="Delete" form="{{this._id}}" />
          </form>
          {{/if}}
          {{/each}}
        </div> 
      </div>
    </div>

<!-- The Alert -->
    <div id="alert3" class="modal">
      <!-- Modal content -->
      <div class="modal-content">
        <span class="close3">&times;</span>
        <div class="alert-del">       
          <h1>Are you sure want to delete this table ?</h1>
          {{#each tables}}
          {{#if column3}}
          <form>
          <input class="del-but" type="submit" value="Delete" form="{{this._id}}" />
          </form>
          {{/if}}
          {{/each}}
        </div> 
      </div>
    </div>

<!-- The Alert -->
    <div id="alert4" class="modal">
      <!-- Modal content -->
      <div class="modal-content">
        <span class="close4">&times;</span>
        <div class="alert-del">       
          <h1>Are you sure want to delete this table ?</h1>
          {{#each tables}}
          {{#if column4}}
          <form>
          <input class="del-but" type="submit" value="Delete" form="{{this._id}}" />
          </form>
          {{/if}}
          {{/each}}
        </div> 
      </div>
    </div>

    <div class="contain-all">
      <nav>
          <input type="checkbox" id="check">
          <label for="check" class="checkbtn">
            <i class="fas fa-bars"></i>
          </label>
          <label class="logo">ScheduleX</label>
        <ul>
          <li><a class="active" href="/user/info">Profile</a></li>
          <li><a class="active" href="/user/team">Join team</a></li>
          <li><a class="active" href="/logout">Log out</a></li>
        </ul>
        <ul>
          <li><img class="avatar" src="/img/avatar.png" alt="change your avatar"></li>
        </ul>
      </nav>

      <div class="toolbars">
        <button class="ADD" id="show-form1" onclick="myFunction1()">+</button>
        <button class="ADD" id="show-form2" onclick="myFunction2()">+</button>
        <button class="ADD" id="show-form3" onclick="myFunction3()">+</button>
        <button class="ADD" id="show-form4" onclick="myFunction4()">+</button>
      </div>
    

  <div class="app">
    <div class="lists">
      <div class="list">
        <form class="list-item" method="POST" action="/user/create" id="form-add1" style="display: none;">
          <input type="hidden" type="text" name="column1" value="column1"/>
          <input class="titlebox2" type="text" name="title" placeholder="Title"  />
          <textarea class="inp" type="text" name="description" placeholder="Descriptions"  ></textarea>
          <input class="date" name="deadline" type="datetime-local"  />
          <input class="save-form" type="submit" value="SAVE" />
        </form>        
        
        {{#each tables}}
        {{#if column1}}
          <form id="{{this._id}}" action="/user?_method=PUT" method="POST">
            <input type="hidden" name="Idtable" value="{{this._id}}">
          </form>


        <div class="list-item">
          <button class="titlebox2" onclick="addtitle()" >{{this.title}}</button>               
          <form  method="POST" action="/user/edit-table" >
            <input type="hidden" name="Idtable" value="{{this._id}}">
            <div class="edit-btn">
              <input class="save-form" type="submit" value="Edit" />
              <input class="save-form" value="Delete" onclick="addtitle1()"  />
            </div>
          </form>
        </div>
        
        {{/if}}
        {{/each}}

      </div>

      <div class="list">
       <form class="list-item" method="POST" action="/user/create" id="form-add2" style="display: none;">
          <input type="hidden" type="text" name="column2" value="column2"/>
          <input class="titlebox2" type="text" name="title" placeholder="Title"  />
          <textarea class="inp" type="text" name="description" placeholder="Descriptions"  ></textarea>
          <input class="date" name="deadline" type="datetime-local"  />
          <input class="save-form" type="submit" value="SAVE" />
        </form>
        
        {{#each tables}}
        {{#if column2}}
        <form id="{{this._id}}" action="/user?_method=PUT" method="POST">
            <input type="hidden" name="Idtable" value="{{this._id}}">
          </form>


        <div class="list-item">
          <button class="titlebox2" onclick="" >{{this.title}}</button>               
          <form  method="POST" action="/user/edit-table" >
            <input type="hidden" name="Idtable" value="{{this._id}}">
            <div class="edit-btn">
              <input class="save-form" type="submit" value="Edit" />
              <input class="save-form" value="Delete" onclick="addtitle2()"  />
            </div>
          </form>
        </div>
        {{/if}}
        {{/each}}
      </div>
      
        <div class="list">
        <form class="list-item" method="POST" action="/user/create" id="form-add3" style="display: none;">
          <input type="hidden" type="text" name="column3" value="column3"/>
          <input class="titlebox2" type="text" name="title" placeholder="Title"/>
          <textarea class="inp" type="text" name="description" placeholder="Descriptions"  ></textarea>
          <input class="date" name="deadline" type="datetime-local"  />
          <input class="save-form" type="submit" value="SAVE" />
        </form>
        {{#each tables}}
        {{#if column3}}                

        <form id="{{this._id}}" action="/user?_method=PUT" method="POST">
            <input type="hidden" name="Idtable" value="{{this._id}}">
          </form>


        <div class="list-item">
          <button class="titlebox2" onclick="" >{{this.title}}</button>               
          <form  method="POST" action="/user/edit-table" >
            <input type="hidden" name="Idtable" value="{{this._id}}">
            <div class="edit-btn">
              <input class="save-form" type="submit" value="Edit" />
              <input class="save-form" value="Delete" onclick="addtitle3()"  />
            </div>
          </form>
        </div>
        {{/if}}
        {{/each}}
        </div>
      
        <div class="list">
          <form class="list-item" method="POST" action="/user/create" id="form-add4" style="display: none;">
          <input type="hidden" type="text" name="column4" value="column4"/>
          <input class="titlebox2" type="text" name="title" placeholder="Title"  />
          <textarea class="inp" type="text" name="description" placeholder="Descriptions"  ></textarea>
          <input class="date" name="deadline" type="datetime-local"  />
          <input class="save-form" type="submit" value="SAVE" />
        </form>
        {{#each tables}}
        {{#if column4}}
        <form id="{{this._id}}" action="/user?_method=PUT" method="POST">
            <input type="hidden" name="Idtable" value="{{this._id}}">
          </form>


        <div class="list-item">
          <button class="titlebox2" onclick="" >{{this.title}}</button>               
          <form  method="POST" action="/user/edit-table" >
            <input type="hidden" name="Idtable" value="{{this._id}}">
            <div class="edit-btn">
              <input class="save-form" type="submit" value="Edit" />
              <input class="save-form" value="Delete" onclick="addtitle4()"  />
            </div>
          </form>
        </div>
        {{/if}}      
        {{/each}}
        </div>
    </div>
  </div>

</div>

</body>
  <script >
  // alert1
var modal1 = document.getElementById("alert1");
var span = document.getElementsByClassName("close1")[0];

function addtitle1(){
    modal1.style.display = "block";

}
// When the user clicks on <span> (x), close the modal
span.onclick = function() {
  modal1.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal1) {
    modal1.style.display = "none";
  }
}

  // alert2
var modal2 = document.getElementById("alert2");
var span = document.getElementsByClassName("close2")[0];

function addtitle2(){
    modal2.style.display = "block";

}
// When the user clicks on <span> (x), close the modal
span.onclick = function() {
  modal2.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal2) {
    modal2.style.display = "none";
  }
}

// alert3
var modal3 = document.getElementById("alert3");
var span = document.getElementsByClassName("close3")[0];

function addtitle3(){
    modal3.style.display = "block";

}
// When the user clicks on <span> (x), close the modal
span.onclick = function() {
  modal3.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal3) {
    modal3.style.display = "none";
  }
}

// alert4
var modal4 = document.getElementById("alert4");
var span = document.getElementsByClassName("close4")[0];

function addtitle4(){
    modal4.style.display = "block";

}
// When the user clicks on <span> (x), close the modal
span.onclick = function() {
  modal4.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal4) {
    modal4.style.display = "none";
  }
}
</script>

<script>
  // Get the modal
var modal = document.getElementById("myModal");
var span = document.getElementsByClassName("close")[0];

function addtitle(){
    modal.style.display = "block";

}
// When the user clicks on <span> (x), close the modal
span.onclick = function() {
  modal.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}
  
</script>

<script>
  
  function myFunction1() {
    var formAdd1 = document.getElementById('form-add1');
    if (formAdd1.style.display === "none") {
      formAdd1.style = "";
    } else {
      formAdd1.style.display = "none";
    }
  }

  function myFunction2() {
    var formAdd2 = document.getElementById('form-add2');
    if (formAdd2.style.display === "none") {
      formAdd2.style = "";
    } else {
      formAdd2.style.display = "none";
    }
  }

  function myFunction3() {
    var formAdd3 = document.getElementById('form-add3');
    if (formAdd3.style.display === "none") {
      formAdd3.style = "";
    } else {
      formAdd3.style.display = "none";
    }
  }

  function myFunction4() {
    var formAdd4 = document.getElementById('form-add4');
    if (formAdd4.style.display === "none") {
      formAdd4.style = "";
    } else {
      formAdd4.style.display = "none";
    }
  }
</script>

</html>